{"version":3,"sources":["styles/global.js","components/Header/styles.js","components/Header/Header.js","components/Board/context.js","components/Card/styles.js","components/Card/Card.js","components/List/styles.js","components/List/List.js","components/Board/styles.js","components/Board/Board.js","services/api.js","index.js","App.js"],"names":["createGlobalStyle","Container","styled","div","Header","createContext","props","isDragging","css","Label","span","color","Card","data","index","listIndex","ref","useRef","move","useContext","BoardContext","memTime","useDrag","item","type","collect","monitor","dragRef","useDrop","accept","hover","now","Date","getTime","draggedIndex","targetIndex","draggedListIndex","targetListIndex","targetSize","current","getBoundingClientRect","targetCenter","bottom","top","draggedTop","getClientOffset","y","dropRef","style","backgroundColor","labels","map","label","key","user","src","alt","content","done","DropTarget","accepts","drop","onDrop","getItem","connect","connectDropTarget","dropTarget","isOver","flexGrow","flexShrink","flexBasis","title","cards","length","creatable","size","card","id","Board","useState","lists","setLists","isMovingCard","setIsMovingCard","handleDrop","useCallback","produce","draft","dragged","splice","push","Provider","value","fromList","toList","from","to","list","ReactDOM","render","backend","HTML5Backend","document","getElementById"],"mappings":"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","file":"static/js/main.074d276d.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components';\n\nexport default createGlobalStyle`\n    @import url('https://fonts.googleapis.com/css?family=Roboto&display=swap'); \n\n    * {\n        margin: 0;\n        padding: 0;\n        outline: 0;\n        // Faz com que padding e margin nao ultrapassem o elemento\n        box-sizing: border-box;\n    }\n\n    html, body, #root{\n        height: 100%;\n    }\n\n    body{\n        font: 14px 'Roboto', sans-serif;\n        color: #333;\n        background: #ecf1f8;\n\n        //Deixa a font mais detalhada\n        -webkit-font-smoothing: antialiased !important;\n    }\n\n    ul{\n        list-style: none; \n    }\n`;","import styled from 'styled-components';\n\nexport const Container = styled.div`\n    height: 80px;\n    //padding apenas nas laterais\n    padding: 0 30px;\n    background: #7159c1;\n    color: #FFF;\n\n    display: flex;\n    align-items: center;\n`;\n","import React from 'react';\nimport { Container } from './styles';\n\nexport default function Header() {\n  return (\n    <Container>\n        <h1>Rocketfy</h1>\n    </Container>\n\n  );\n}\n","import { createContext } from 'react';\n\nexport default createContext({})","import styled, { css } from 'styled-components';\n\n\n\n// css -> Utilizado p/ aplicar múltiplas instruções CSS\n// baseado em uma condição\n\n\nexport const Container = styled.div`\nposition: relative;\nbackground: 'white';\nborder-radius: 5px;\nmargin-bottom: 10px;\npadding: 15px;\nbox-shadow: 0 1px 4px 0 rgba(192, 208, 230, 0.8);\nborder-top: 20px solid rgba(230, 236, 245, 0.55);\ncursor: grab;\nheader: {\n    position: absolute;\n    top: -22px;\n    left: 15px;\n}\np {\n    font-weight: 500;\n    line-height: 20px;\n    \n}\nimg {\n    width: 20px;\n    height: 20px;\n    border-radius: 30px;\n}\n\n// Drag effect \n${ props => props.isDragging && css`\n\n    border: 2px dashed rgba(0,0,0,0.2);\n    padding-top: 31px; \n    border-radius: 0;\n    background: transparent;\n    box-shadow: none;\n    cursor: grabbing;\n\n    p, img, header {\n        opacity: 0;\n    }\n\n` }\n\n\n\n`;\n\nexport const Label = styled.span`\n    width: 10px;\n    height: 10px;\n    border-radius: 2px;\n    display: inline-block;\n    background: ${props => props.color}\n\n\n\n\n\n    `;\n","import React, {useRef, useContext} from 'react';\nimport { useDrag, useDrop } from 'react-dnd';\nimport BoardContext from '../Board/context'\n\n// ASSETS\nimport { Container, Label } from './styles';\n\nexport default function Card({ data, index, listIndex }) {\n  \n  const ref = useRef();\n  const { move } = useContext(BoardContext)\n  \n  let memTime = 0;\n\n\n  const [ { isDragging }, dragRef] = useDrag({\n    item: { \n      type: 'CARD',\n      index,\n      listIndex\n\n   },\n  \n    collect: monitor => (\n      {\n        isDragging: monitor.isDragging(),\n      }\n    ),\n  })\n\n  const [, dropRef] = useDrop({\n    // quais tipos de elemento sendo arrastado\n    // ele pode aceitar, definido em item: { type: '...' } \n    accept: 'CARD',\n    hover(item, monitor) {\n      \n      var date = new Date();\n      var now = date.getTime();\n      if(memTime === 0) memTime = now;\n      \n      //console.log(item.index, index)\n      const draggedIndex = item.index;\n      const targetIndex = index;\n\n      const draggedListIndex = item.listIndex;\n      const targetListIndex = listIndex;\n\n      if(draggedIndex === targetIndex && draggedListIndex === targetListIndex) return;\n      \n      const targetSize = ref.current.getBoundingClientRect();\n      const targetCenter = (targetSize.bottom - targetSize.top) / 2;\n      \n      const draggedOffset = monitor.getClientOffset();\n      const draggedTop = draggedOffset.y - targetSize.top;\n\n      if (draggedIndex < targetIndex && draggedTop < targetCenter) {\n        return;\n      }\n\n      if (draggedIndex > targetIndex && draggedTop > targetCenter) {\n        return;\n      }\n\n      if((now - memTime) >= 300 || draggedListIndex === targetListIndex){\n        \n        move(draggedListIndex, targetListIndex, draggedIndex, targetIndex,'card');\n        item.index = targetIndex;\n        item.listIndex = targetListIndex;\n        memTime = 0;\n      }\n\n    }\n  })\n  dragRef(dropRef(ref))\n\n  return (\n  // ref -> Para indicar a API de DnD que esse componente \n  // pode ser arrastado\n  <Container isDragging={isDragging} ref={ref} style={{backgroundColor: 'white'}}>\n      <header>\n        {data.labels.map(label => <Label key={label} color={label} />) }\n        {data.user && <img  src={data.user} alt=\"icon\"/>}\n\n      </header>\n      <p>\n        {data.content}\n      </p>\n    </Container>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n    padding: 0 15px;\n    height: 100%;\n    \n    flex: 0 0 320px;\n\n\n    opacity: ${props => props.done ? 0.6:1};\n\n    &  + div{\n        border-left: 1px solid rgba(0, 0, 0, 0.4)\n    }\n\n    header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        height: 30px;\n\n\n        h2{\n            font-weight: 500;\n            font-size: 16px;\n            padding: 0 10px;\n        }\n\n        label {\n            font-weight: 400;\n            font-size: 16px;\n\n        }\n\n        button {\n            width: 42px;\n            height: 42px;\n            border-radius: 16px;\n            background: #3b5bfd;\n            border: 0;\n            cursor: pointer;\n        }\n    }\n    ul {\n        margin-top: 30px;\n    }\n`;\n","import React from 'react';\n\nimport Card from '../Card/Card'\nimport { DropTarget } from 'react-dnd';\n\n\nimport { Container } from './styles';\nimport {MdAdd} from 'react-icons/md'\n\nfunction List({data, index: listIndex, connectDropTarget}) \n  {\n  \n  return connectDropTarget(\n    <div style={{flexGrow:0, flexShrink:0, flexBasis:320}}>\n\n      <Container done={data.done}>\n        <header>\n          <h2>{data.title}</h2>\n          <label>{data.cards.length}</label>\n          {data.creatable && (\n            <button type=\"button\">\n              <MdAdd size={24} color=\"#FFF\"/>\n            </button>\n          )}\n        </header>\n\n        <ul>\n          { \n            data.cards.map( \n              (card, index) =>\n              <Card \n              index={index}\n              listIndex={listIndex} \n              key={card.id} \n              data={card}>\n\n              </Card>\n              \n            )\n          }\n        </ul>\n      </Container>\n    </div>\n  );\n}\n\nexport default DropTarget (\n  props => props.accepts,\n  {\n    drop(props, monitor) {\n      props.onDrop(monitor.getItem())\n    },\n  },\n  (connect, monitor) => ({\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver(),\n  }),\n)(List)\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n    display: flex;\n    padding: 30px 0;\n    height: calc(100% - 80px);\n`;\n","import React, {useState, useCallback} from 'react';\n\nimport produce from 'immer'\n\nimport { loadLists } from '../../services/api.js';\nimport BoardContext from './context'\n//Components\nimport List from '../List/List';\n\n\n//Assets\nimport { Container } from './styles';\n\nconst data = loadLists();\n\nexport default function Board() {\n\n  const [lists, setLists] = useState(data);\n  const [isMovingCard, setIsMovingCard ] = useState(false)\n\n  const handleDrop = useCallback(\n    (index, item) => {\n      if(!isMovingCard){\n        setLists(produce(lists, draft => {\n          const dragged = draft[item.listIndex].cards[item.index]\n          draft[item.listIndex].cards.splice(item.index, 1)\n          draft[index].cards.push(dragged)\n        }))\n      } \n      else{\n        setIsMovingCard(false)\n      }\n    },\n\n  )\n\n  function move(fromList, toList, from, to){\n\n    setLists(produce(lists, draft => {\n\n      const dragged = draft[fromList].cards[from]\n      \n      setIsMovingCard(true);\n      draft[fromList].cards.splice(from, 1);\n      draft[toList].cards.splice(to, 0, dragged)\n\n    }))\n\n  }\n\n\n  return (\n    <BoardContext.Provider value={ { lists, move } }>\n      <Container> \n        {lists.map( (list, index) => <List index={index} accepts={['CARD']} onDrop={item => handleDrop(index, item)} key={list.title} data={list} />)}\n\n      </Container>\n    </BoardContext.Provider>\n  );\n}\n","export function loadLists() {\n    return [\n      { \n        title: 'Tarefas', \n        creatable: true,\n        cards: [\n          {\n            id: 1,\n            content: 'Estudar módulo 01 de NodeJS',\n            labels: ['#7159c1'],\n            user: 'https://api.adorable.io/avatars/285/abott@adorable.png'\n          },\n          {\n            id: 2,\n            content: 'Criar vídeo para o Youtube ensinando a recriar a interface do Pipefy',\n            labels: ['#7159c1'],\n            user: 'https://api.adorable.io/avatars/285/abott@adorable.png'\n          },\n          {\n            id: 3,\n            content: 'Estudar módulo 03 de React Native',\n            labels: ['#7159c1'],\n            user: 'https://api.adorable.io/avatars/285/abott@adorable.png'\n          },\n          {\n            id: 4,\n            content: 'Gravar Aula \"NextJS: Utilizando server-side rendering com ReactJS\"',\n            labels: ['#54e1f7'],\n            user: 'https://api.adorable.io/avatars/285/abott@adorable.png'\n          },\n          {\n            id: 5,\n            content: 'Gravar testes e deploy ReactJS',\n            labels: ['#54e1f7'],\n            user: 'https://api.adorable.io/avatars/285/abott@adorable.png'\n          },\n        ]\n      },\n      { \n        title: 'Fazendo', \n        creatable: false,\n        cards: [\n          {\n            id: 6,\n            content: 'Recriando clone do Pipefy',\n            labels: [],\n            user: 'https://api.adorable.io/avatars/285/abott@adorable.png'\n          }\n        ]\n      },\n      { \n        title: 'Pausado', \n        creatable: false,\n        cards: [\n          {\n            id: 7,\n            content: 'Gravar sobre Geolocalização e mapas com React Native',\n            labels: ['#7159c1'],\n            user: 'https://api.adorable.io/avatars/285/abott@adorable.png'\n          },\n          {\n            id: 8,\n            content: 'Gravar testes e deploy ReactJS',\n            labels: ['#54e1f7'],\n            user: 'https://api.adorable.io/avatars/285/abott@adorable.png'\n          },\n          {\n            id: 9,\n            content: 'Ajustes na biblioteca unform',\n            labels: [],\n            user: 'https://api.adorable.io/avatars/285/abott@adorable.png'\n\n          }\n        ]\n      },\n      { \n        title: 'Concluído', \n        creatable: false,\n        done: true,\n        cards: [\n          {\n            id: 10,\n            content: 'Gravar aula sobre deploy e CI com React Native',\n            labels: [],\n            user: 'https://api.adorable.io/avatars/285/abott@adorable.png'\n\n          },\n          {\n            id: 12,\n            content: 'Gravar testes e deploy ReactJS',\n            labels: ['#54e1f7'],\n            user: 'https://api.adorable.io/avatars/285/abott@adorable.png'\n\n          },\n          {\n            id: 13,\n            content: 'Gravar Aula \"Internacionalização de aplicações Node.js, ReactJS e React Native\"',\n            labels: ['#7159c1'],\n            user: 'https://api.adorable.io/avatars/285/abott@adorable.png'\n\n          }\n        ]\n      },\n    ];\n  }","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n","import React from 'react';\nimport GlobalStyle from './styles/global';\nimport Header from './components/Header/Header';\nimport Board from './components/Board/Board'\nimport {DndProvider} from 'react-dnd'\nimport HTML5Backend from 'react-dnd-html5-backend'\n\nexport default function App() {\n  return (\n//\n    <DndProvider backend={HTML5Backend}>\n      <Header />\n      <Board />\n\n\n      <GlobalStyle />\n    </DndProvider>\n  );\n}\n\n\n"],"sourceRoot":""}